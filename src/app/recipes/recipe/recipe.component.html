<div class="parent">
  <mat-card class="card">
    <mat-card-header>
    <div mat-card-avatar class="header-image"></div>
    <mat-card-title>{{ recipe?.username }}</mat-card-title>
    <!-- <mat-card-subtitle>{{ recipe?.description }}</mat-card-subtitle> -->

    </mat-card-header>

    <div style="text-align: center; margin-bottom: 15px;">
      <mat-card-title>{{ recipe?.name }}</mat-card-title>
      <mat-label>{{ recipe?.description }}</mat-label>
    </div>


    <div style="margin: 10px; border-radius: 10%;padding: 10px;">
      <img class="image" mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg">
    </div>

    <div class="container">
      <div class="row">
        <div class="col-sm" style="text-align: center;">
          <mat-card class="info">
            <span>Ocena: </span>
            <app-star [rating]="recipe?.rating"></app-star>
          </mat-card>
        </div>
        <div class="col-sm" style="text-align: center;">
          <mat-card class="info">
            <span>Trudność wykonania: </span>
            {{ difficulty }}
          </mat-card>
        </div>
        <div class="col-sm" style="text-align: center;">
          <mat-card class="info">
            <span>Czas przygotowania: </span>
            {{ prepTime }}
          </mat-card>
        </div>
      </div>
    </div>

    <hr>

    <mat-card-content>

      <mat-card-title>Składniki</mat-card-title>
      <div class="ingredients">
        <ul class="list-group list-group-flush">
          <li
            class="list-group-item"
            *ngFor="let ingredient of recipe?.recipeIngredients">
            <div style="display: inline-block;">{{ ingredient?.name }}&nbsp;&nbsp;</div>
            <div style="display: inline-block;">{{ ingredient?.amount }}</div>
          </li>
        </ul>
      </div>

      <hr>

      <mat-card-title>Przygotowanie</mat-card-title>
      <div class="preparation">
        <p>{{ recipe?.preparation }}</p>
      </div>
    </mat-card-content>
    <mat-card-actions>
    </mat-card-actions>
  </mat-card>

  <mat-card class="card">
    <mat-form-field class="textarea">
      <textarea
        name="comment"
        [(ngModel)]="comment"
        matInput
        rows="5"
        placeholder="Twój komentarz"></textarea>
    </mat-form-field>

    <button
      class="btn btn-primary mr-3"
      style="width:100px;"
      (click)="commentRecipe()">
      Skomentuj
    </button>

    <div class="comments">
      <mat-card class="card1" *ngFor="let comment of recipe?.comments">
        <mat-card-header>
          Skomentował: {{ comment?.username }}
        </mat-card-header>
        <div class="card" >
          <div class="card-body">
            {{ comment?.comment }}
          </div>
        </div>
        <mat-card-footer class="commentDate">
          {{ comment?.createdDate | date:'medium' }}
        </mat-card-footer>
      </mat-card>
    </div>


  </mat-card>


</div>
